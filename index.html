<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Indian Hut Scene</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <style> body { margin: 0; } </style>
  </head>
  <body>
    <a-scene>

      <!-- Assets -->
      <a-assets>
        <img id="skyImage" src="assets/sky.jpg">
        <img id="sandTexture" src="assets/sand.jpeg">
        <a-asset-item id="hutModel" src="assets/huthouse/scene.gltf"></a-asset-item>
        <a-asset-item id="treeModel" src="assets/tree/scene.gltf"></a-asset-item>
        <a-asset-item id="plantModel" src="assets/plant/scene.gltf"></a-asset-item>
        <a-asset-item id="mangotreeModel" src="assets/mangotree/scene.gltf"></a-asset-item>
        <a-asset-item id="kiteModel" src="assets/kite/scene.gltf"></a-asset-item>
        <a-asset-item id="birdModel" src="assets/bird/scene.gltf"></a-asset-item>
        <a-asset-item id="bananaModel" src="assets/banana/scene.gltf"></a-asset-item>
      </a-assets>

      <!-- Sky and Sunlight -->
      <a-sky src="#skyImage" rotation="0 -90 0"></a-sky>
      <a-entity light="type: directional; color: #fff6cc; intensity: 1.2" position="2 4 3"></a-entity>
      <a-entity light="type: ambient; intensity: 0.6"></a-entity>

      <!-- Ground -->
      <a-plane rotation="-90 0 0" width="100" height="100"
               material="src: #sandTexture; repeat: 50 50; roughness: 1">
      </a-plane>

      <!-- Huts (Larger and evenly spaced) -->
<a-entity gltf-model="#hutModel" position="-3 0 -5" rotation="0 180 0" scale="0.6 0.6 0.6"></a-entity>

<a-entity id="centerHut" gltf-model="#hutModel" position="0 0 -5" rotation="0 180 0" scale="0.6 0.6 0.6"
          class="clickable"
          animation__scale="property: scale; to: 0.7 0.7 0.7; dur: 500; startEvents: focusHut"
          animation__camera="property: position; to: 0 1.6 -4; dur: 500; startEvents: focusHut">
</a-entity>

<a-entity gltf-model="#hutModel" position="3 0 -5" rotation="0 180 0" scale="0.6 0.6 0.6"></a-entity>


      <!-- Other Objects -->
      <a-entity gltf-model="#treeModel" position="-8 0 -10" scale="0.3 0.3 0.3"></a-entity>
      <a-entity gltf-model="#treeModel" position="8 0 -10" scale="0.3 0.3 0.3"></a-entity>
      <a-entity gltf-model="#plantModel" position="5 0 -8" scale="0.3 0.3 0.3"></a-entity>
      <a-entity gltf-model="#kiteModel" position="5 0 -8" scale="0.3 0.3 0.3"></a-entity>
      <a-entity gltf-model="#mangotreeModel" position="-8 0 -10" scale="0.3 0.3 0.3"></a-entity>
      <a-entity gltf-model="#birdModel" position="-7.7 3.5 -10" scale="0.1 0.1 0.1"></a-entity>
      <a-entity gltf-model="#bananaModel" position="3 0 -8" scale="0.3 0.3 0.3"></a-entity>

      <!-- Camera + Cursor -->
      <a-entity id="cameraRig" position="0 1.6 3">
        <a-camera>
          <a-cursor></a-cursor>
        </a-camera>
      </a-entity>

      <!-- Interaction Script -->
      <script>
        AFRAME.registerComponent('zoom-on-click', {
          init: function () {
            const camera = document.querySelector('#cameraRig');
            this.el.addEventListener('click', () => {
              this.el.emit('focusHut');
              camera.setAttribute('position', '0 1.6 -4');
            });
          }
        });

        document.querySelector('#centerHut').setAttribute('zoom-on-click', '');
      </script>

    </a-scene>
  </body>
</html>
