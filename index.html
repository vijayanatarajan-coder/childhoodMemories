<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Childhood Painting room</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/super-hands/dist/super-hands.min.js"></script>

    <style>
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <a-scene background="color: #F4E99B">
      <!-- Sky with color -->
      <a-sky color="#87CEEB"></a-sky>
      <!-- Light blue sky -->

      <!-- Background panel for better text visibility (optional) -->
      <a-plane
        position="-6 6 -5"
        width="6"
        height="1.5"
        color="#000000"
        opacity="0.5"
      >
      </a-plane>

      <!-- Floating text note -->
      <a-entity
        position="-6 6 -4.99"
        text="value: This is my childhood painting room. I loved painting here as a kid, and this VR space brings back those joyful memories. Click the painting board to explore another world!; 
        color: #ffffff; 
        width: 5.5; 
        align: left; 
        font: mozillavr"
      >
      </a-entity>

      <!-- Rig with camera and hand controllers -->
      <a-entity id="rig" position="0 1.6 5">
        <!-- Camera -->
        <a-camera>
          <a-cursor raycaster="objects: .clickable"></a-cursor>
        </a-camera>

        <!-- Left hand controller -->
        <a-entity
          laser-controls="hand: left"
          raycaster="objects: .clickable"
          line="color: #FF0000"
        ></a-entity>

        <!-- Right hand controller -->
        <a-entity
          laser-controls="hand: right"
          raycaster="objects: .clickable"
          line="color: #FF0000"
        ></a-entity>
      </a-entity>

      <!-- Lighting -->
      <a-light type="ambient" color="#bbb"></a-light>
      <a-light type="directional" intensity="0.6" position="1 4 1"></a-light>

      <!-- Assets -->
      <a-assets>
        <a-asset-item
          id="crayanModel"
          src="assets/crayan/scene.gltf"
        ></a-asset-item>
        <a-asset-item
          id="tabelModel"
          src="assets/tabel/scene.gltf"
        ></a-asset-item>
        <a-asset-item
          id="plantModel"
          src="assets/indoorplant/scene.gltf"
        ></a-asset-item>
        <a-asset-item
          id="chairModel"
          src="assets/chair/scene.gltf"
        ></a-asset-item>
        <a-asset-item
          id="bookModel"
          src="assets/book/scene.gltf"
        ></a-asset-item>
        <a-asset-item
          id="bookshelfModel"
          src="assets/bookshelf/scene.gltf"
        ></a-asset-item>
        <img id="painting" src="assets/painting.jpg" />
        <img id="paintingtwo" src="assets/paintingtwo.jpg" />
        <img id="paintingthree" src="assets/paintingthree.jpg" />
        <img id="myproject" src="assets/myproject.png" />
        <img id="floor" src="assets/floor.jpg" />
      </a-assets>

      <!-- Scene elements -->
      <a-entity rotation="0 -45 0">
        <a-plane
          position="0 0 0"
          rotation="-90 0 0"
          width="10"
          height="10"
          material="shader: flat; src: #floor; opacity: 0.95"
        ></a-plane>

        <a-box
          position="0 1.50 -5"
          width="10"
          height="3"
          depth="0.1"
          color="#9B9B9B"
        ></a-box>

        <a-box
          position="-5 1.50 0"
          width="0.1"
          height="3"
          depth="10"
          color="#cccccc"
        ></a-box>

        <!-- Window Glass -->
        <a-box
          position="-4.83 1.25 0"
          width="0.02"
          height="1.5"
          depth="3"
          color="#007BFF"
          opacity="0.7"
          transparent="true"
        ></a-box>

        <!-- Window Border -->

        <!-- Left vertical border -->
        <a-box
          position="-4.85 1.25 -1.5"
          width="0.04"
          height="1.5"
          depth="0.05"
          color="white"
        ></a-box>

        <!-- Right vertical border -->
        <a-box
          position="-4.85 1.25 1.5"
          width="0.04"
          height="1.5"
          depth="0.05"
          color="white"
        ></a-box>

        <!-- Top horizontal border -->
        <a-box
          position="-4.85 2.0 0"
          width="0.04"
          height="0.05"
          depth="3"
          color="white"
        ></a-box>

        <!-- Bottom horizontal border -->
        <a-box
          position="-4.85 0.5 0"
          width="0.04"
          height="0.05"
          depth="3"
          color="white"
        ></a-box>

        <!-- Inner vertical divider (if any) -->
        <a-box
          position="-4.82 1.25 0"
          width="0.01"
          height="1.5"
          depth="0.1"
          color="white"
        ></a-box>

        <!-- Outer mat (bigger, darker) -->
        <a-circle
          position="0 0.01 0"
          rotation="-90 0 0"
          radius="2"
          color="#8B4513"
          segments="64"
        ></a-circle>

        <!-- Inner mat (smaller, lighter) -->
        <a-circle
          position="0 0.02 0"
          rotation="-90 0 0"
          radius="1.5"
          color="#d2b48c"
          segments="64"
        ></a-circle>

        <a-entity position="0 0 0">
          <!-- White board frame around the painting, bigger and moved to the right -->
          <a-box
            position="-3 1.2 -4.93"
            width="2.0"
            height="1.5"
            depth="0.05"
            color="#fff"
          ></a-box>

          <!-- Top white box (like a top edge) -->
          <a-box
            position="-3 2.0 -4.92"
            width="2.0"
            height="0.1"
            depth="0.05"
            color="#000"
          ></a-box>

          <!-- Bottom white box -->
          <a-box
            position="-3 0.4 -4.92"
            width="2.0"
            height="0.1"
            depth="0.05"
            color="#000"
          ></a-box>

          <!-- Left side white box -->
          <a-box
            position="-4 1.2 -4.92"
            width="0.1"
            height="1.7"
            depth="0.05"
            color="#000"
          ></a-box>

          <!-- Right side white box -->
          <a-box
            position="-2 1.2 -4.92"
            width="0.1"
            height="1.7"
            depth="0.05"
            color="#000"
          ></a-box>

          <!-- Text (example) positioned near the whiteboard -->
          <a-text
            value="Monday metting 11.30  "
            position="-3.4 1.2 -4.9"
            width="2.5"
            color="#000"
          ></a-text>
        </a-entity>

        <a-plane
          position="0 1.2 -4.925"
          width="1.5"
          height="1"
          material="src: #painting"
        ></a-plane>

        <a-box
          position="0 1.75 -4.92"
          width="1.7"
          height="0.1"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="0 0.65 -4.92"
          width="1.7"
          height="0.1"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="-0.85 1.2 -4.92"
          width="0.1"
          height="1.3"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="0.85 1.2 -4.92"
          width="0.1"
          height="1.3"
          depth="0.05"
          color="#fff"
        ></a-box>

        <!-- Top smaller painting -->
        <a-plane
          position="2 1.75 -4.925"
          width="0.9"
          height="0.6"
          material="src: #paintingtwo"
        ></a-plane>

        <!-- Top frame -->
        <a-box
          position="2 2.08 -4.92"
          width="1.02"
          height="0.06"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="2 1.42 -4.92"
          width="1.02"
          height="0.06"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="1.55 1.75 -4.92"
          width="0.06"
          height="0.72"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="2.45 1.75 -4.92"
          width="0.06"
          height="0.72"
          depth="0.05"
          color="#fff"
        ></a-box>

        <!-- Bottom smaller painting -->
        <a-plane
          position="2 0.65 -4.925"
          width="0.9"
          height="0.6"
          material="src: #paintingthree"
        ></a-plane>

        <!-- Bottom frame -->
        <a-box
          position="2 0.98 -4.92"
          width="1.02"
          height="0.06"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="2 0.32 -4.92"
          width="1.02"
          height="0.06"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="1.55 0.65 -4.92"
          width="0.06"
          height="0.72"
          depth="0.05"
          color="#fff"
        ></a-box>
        <a-box
          position="2.45 0.65 -4.92"
          width="0.06"
          height="0.72"
          depth="0.05"
          color="#fff"
        ></a-box>
      </a-entity>

      <!-- models-->
      <a-entity
        gltf-model="#crayanModel"
        position="-2.0 1 -1.0"
        scale="0.3 0.3 0.3"
      ></a-entity>
      <a-entity
        gltf-model="#tabelModel"
        position="-2.0 0 -1.0"
        scale="2.2 2.2 2.2"
        rotation="0 45 0"
        class="clickable"
        hover-color
      ></a-entity>
      <a-entity
        gltf-model="#plantModel"
        position="-0.50 0 -6"
        scale="0.002 0.002 0.002"
        rotation="0 -220 0"
      ></a-entity>
      <a-entity
        gltf-model="#chairModel"
        position="-4 0 0"
        scale="0.2 0.2 0.2"
        rotation="0 90 0"
        class="clickable"
        shake-on-click
      ></a-entity>
      <a-entity
        gltf-model="#bookModel"
        position="-2.4 1 -0.5"
        scale="0.4 0.4 0.4"
        rotation="-90 0 -180"
      ></a-entity>
      <a-entity
        gltf-model="#bookshelfModel"
        position="6 0 -0.5"
        scale="1 1 1"
        rotation="0 320 0"
      ></a-entity>
      <a-entity position="0.5 0 0" rotation="0 0 0">
        <!-- Board surface (at y=1.5) -->
        <a-plane
          width="1.5"
          height="1"
          color="#ffffff"
          material="shader: flat; src: #myproject; opacity: 0.95"
          position="0 1.5 0"
          class="clickable"
          open-other-scene
        ></a-plane>

        <!-- Frame around board -->
        <!-- Top frame -->
        <a-box
          position="0 2.05 0.02"
          width="1.6"
          height="0.1"
          depth="0.05"
          color="#8B4513"
        ></a-box>

        <!-- Bottom frame -->
        <a-box
          position="0 0.95 0.02"
          width="1.6"
          height="0.1"
          depth="0.05"
          color="#8B4513"
        ></a-box>

        <!-- Left frame -->
        <a-box
          position="-0.78 1.5 0.02"
          width="0.1"
          height="1.1"
          depth="0.05"
          color="#8B4513"
        ></a-box>

        <!-- Right frame -->
        <a-box
          position="0.78 1.5 0.02"
          width="0.1"
          height="1.1"
          depth="0.05"
          color="#8B4513"
        ></a-box>

        <!-- Left leg -->
        <a-box
          position="-0.7 0.65 -0.3"
          rotation="20 0 0"
          width="0.1"
          height="1.6"
          depth="0.05"
          color="#654321"
        ></a-box>

        <!-- Right leg -->
        <a-box
          position="0.7 0.65 -0.3"
          rotation="20 0 0"
          width="0.1"
          height="1.6"
          depth="0.05"
          color="#654321"
        ></a-box>
      </a-entity>

      <!-- Dustbin Body -->
      <a-cylinder
        position="-5.90 0.2 -0.1"
        radius="0.18"
        height="0.4"
        color="#555"
        open-ended="true"
        segments-radial="32"
      ></a-cylinder>

      <!-- Lid -->
      <a-sphere
        position="-5.90 0.42 -0.1"
        radius="0.19"
        theta-length="90"
        color="#333"
      ></a-sphere>

      <!-- Base Ring -->
      <a-torus
        position="-5.90 0.01 -0.1"
        radius="0.18"
        radius-tubular="0.008"
        rotation="90 0 0"
        color="#444"
      ></a-torus>
    </a-scene>

    <script>
      AFRAME.registerComponent("shake-on-click", {
        init: function () {
          const el = this.el;
          el.addEventListener("click", () => {
            el.setAttribute("animation__shake", {
              property: "rotation",
              to: "0 30 0",
              dir: "alternate",
              dur: 300,
              loop: 3,
              easing: "easeInOutSine",
            });
          });
        },
      });

      AFRAME.registerComponent("hover-color", {
        schema: {
          color: { type: "color", default: "#ffffff" },
        },
        init: function () {
          const el = this.el;
          let originalMaterials = [];

          el.addEventListener("model-loaded", () => {
            const mesh = el.getObject3D("mesh");
            if (!mesh) return;

            mesh.traverse((node) => {
              if (node.isMesh) {
                originalMaterials.push({
                  node: node,
                  material: node.material.clone(),
                });
              }
            });

            el.addEventListener("mouseenter", () => {
              originalMaterials.forEach(({ node }) => {
                node.material.color.set(this.data.color);
              });
            });

            el.addEventListener("mouseleave", () => {
              originalMaterials.forEach(({ node, material }) => {
                node.material.color.copy(material.color);
              });
            });
          });
        },
      });

      AFRAME.registerComponent("open-other-scene", {
        init: function () {
          this.el.addEventListener("click", function () {
            window.location.href = "scenetwo.html";
          });
        },
      });
    </script>
  </body>
</html>
